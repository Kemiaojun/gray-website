import{d as h,I as b,c as a,a as s,u as r,o as i,r as f,S as k}from"./@vue-BV9Q_yhH.js";import{_ as g}from"./index-CWm0XY_p.js";import{F as C}from"./file-saver-BRKk3X6M.js";const x={class:"preview-container"},y={key:0,class:"preview-content"},z=["src"],R={key:1},q=h({__name:"GWPreviewVideo",props:{url:{},name:{},onClose:{type:Function}},setup(p){const n=p,{url:l,name:u}=b(n);function t(){n.onClose&&n.onClose()}const m=()=>{console.log("视频暂停")},c=()=>{console.log("视频播放结束")},_=()=>{console.log("视频加载被中止")};return(o,d)=>(i(),a("div",x,[s("div",{class:"preview-btns"},[s("span",{style:{"font-size":"24px"},onClick:t,class:"iconbl bl-a-closeline-line"})]),r(l)?(i(),a("div",y,[s("video",{controls:"",src:r(l),width:"800px",onPause:m,onEnded:c,onAbort:_}," 你的浏览器不支持视频播放。 ",40,z)])):(i(),a("p",R,"没有视频可预览"))]))}}),$=g(q,[["__scopeId","data-v-a909d96e"]]),I=["src","alt"],v=.1,S=.5,V=3,E=h({__name:"GWPreviewImage",props:{image:{},name:{},cardData:{},onClose:{type:Function}},setup(p){const n=p,{image:l,name:u}=b(n);function t(){n.onClose&&n.onClose()}const m=()=>{fetch(l.value).then(e=>e.blob()).then(e=>{C.saveAs(e,u.value||"image.png")}).catch(e=>console.error("下载图片异常:",e))},c=f(),_=()=>{const e=c.value;e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())},o=f(1),d=e=>{e.preventDefault(),e.deltaY<0?w():F()},w=()=>{o.value<V&&(o.value+=v)},F=()=>{o.value>S&&(o.value-=v)};return(e,P)=>(i(),a("div",{class:"preview-container",onWheel:d},[s("div",{class:"preview-btns"},[s("span",{style:{"font-size":"24px"},onClick:t,class:"iconbl bl-a-closeline-line"}),s("span",{style:{"font-size":"24px"},onClick:m,class:"iconbl bl-download--line"}),s("span",{style:{"font-size":"24px"},onClick:_,class:"iconbl bl-expansion-line"})]),s("div",{class:"preview-content",onClick:t},[s("img",{src:r(l),alt:r(u),style:k({transform:`scale(${o.value})`}),class:"preview-image",ref_key:"previewImageRef",ref:c},null,12,I)])],32))}}),D=g(E,[["__scopeId","data-v-a39703b9"]]);export{D as _,$ as a};
