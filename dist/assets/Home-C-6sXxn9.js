import{c as G,u as E,t as M,i as x,d as P,_ as y,e as F,s as j,r as q,g as Y,a as Z}from"./index-0LZCLISq.js";import{t as J}from"./util-DisF612g.js";import"./typescript-dBoxZbx9.js";import{u as A,i as H,a as I,b as K,c as W,d as Q,e as X,f as z,g as S,h as tt,j as et,k as T,l as st,m as at,n as ot}from"./echarts-CSLVTefF.js";import{d as v,r as w,b as $,o as u,c as _,a as t,M as k,u as p,U as m,T as B,a7 as U,L as g,at as O,au as R,G as nt,n as it,S as N,V as D}from"./@vue-BV9Q_yhH.js";import"./pinia-CWZPuNdE.js";import"./axios-Cm0UX6qg.js";import"./vue-router-DaOdIdNP.js";import"./element-plus-COxNbMku.js";import"./lodash-es-BDpUAi6D.js";import"./async-validator-DKvM95Vc.js";import"./@vueuse-DVUPgnhb.js";import"./dayjs-Didlxlvp.js";import"./@element-plus-DgtNr1CL.js";import"./@ctrl-D_sRHO8g.js";import"./@popperjs-D9SI2xQl.js";import"./vue-pdf-embed-BcRweBTn.js";import"./zrender-F3_HAMiX.js";import"./tslib-BDyQ-Jie.js";const rt=t("div",{class:"heatmap-type-choice-btns"},[t("div",{class:"heatmap-type-content"},"编辑热力图")],-1),lt=v({__name:"ChartHeatmap",setup(c){A([I,K,W,Q,X,z,S,tt,et,T]);const e=w();let l,r=[],s=0,d="",a="",n={init:!1,chartData:[],maxUpdateNum:0,dateBegin:"",dateEnd:""};const b=()=>{let i=()=>{s=n.maxUpdateNum,d=n.dateBegin,a=n.dateEnd,r=n.chartData,f()};n.init?i():G().then(o=>{n.init=!0,n.maxUpdateNum=o.data.maxStatValues,n.dateBegin=o.data.dateBegin,n.dateEnd=o.data.dateEnd,n.chartData=o.data.data,i()})},f=i=>{l.setOption({backgroundColor:"transparent",gradientColor:["#494949","#b0be83","#698f14","#494949","#9b9b9b","#b3b3b3","#494949","#835947","#aa725a"],tooltip:{backgroundColor:"var(--gw-bg-active-color)",borderColor:"var(--gw-font-color-1)",textStyle:{color:"var(--gw-font-color)"},formatter:o=>{let C=o.data[0],V=o.data[1];return"<div style='text-align: left'>"+C+" 日 <br/>编辑 [ "+V+" ] 篇文章</div>"}},calendar:[{top:40,bottom:5,left:30,right:30,cellSize:["auto",30],range:[d,a],splitLine:{show:!0,lineStyle:{color:"var(--gw-font-color)",width:2,type:"solid"}},itemStyle:{color:"transparent",borderWidth:1,borderColor:"#1cbc9d"},yearLabel:{show:!1},monthLabel:{nameMap:"ZH",color:"var(--gw-font-color)"},dayLabel:{nameMap:"ZH",firstDay:1,color:"var(--gw-font-color)"}}],visualMap:[{top:10,left:300,min:0,max:s,show:!1}],series:[{type:"scatter",coordinateSystem:"calendar",animation:!0,animationDuration:200,animationDurationUpdate:100,data:r===void 0?0:r,symbolSize:o=>o[1]===0?0:10},{type:"effectScatter",coordinateSystem:"calendar",data:r===void 0?0:r.sort((o,C)=>C[1]-o[1]).slice(0,5),showEffectOn:"render",rippleEffect:{number:3,brushType:"stroke"},zlevel:1}]})},h=()=>{l.resize()};return $(()=>{l=H(e.value),h(),b(),window.addEventListener("resize",h)}),(i,o)=>(u(),_(k,null,[t("div",{class:"yq-user-info-heatmap",ref_key:"ChartHeatmapRef",ref:e},null,512),rt],64))}}),ct=c=>(O("data-v-4a4b4661"),c=c(),R(),c),dt={class:"home-userinfo-root"},ut={class:"userinfo-desc"},_t={class:"avatar"},mt=["src"],pt={class:"info"},ht={class:"name"},ft={class:"userinfo-content"},vt={class:"userinfo-content-btns"},bt=ct(()=>t("span",{class:"iconbl bl-sendmail-line"},null,-1)),gt=["onClick"],yt={class:"desc"},wt={class:"userinfo-content-charts"},$t=v({__name:"HomeUserInfo",setup(c){const e=E(),l=()=>{if(x(e.links))return JSON.parse(e.links);P()};return(r,s)=>(u(),_("div",dt,[t("div",ut,[t("div",_t,[t("img",{src:p(e).userinfo.avatar?p(e).userinfo.avatar:"/favicon.png",alt:"头像"},null,8,mt)]),t("div",pt,[t("div",ht,m(p(e).userinfo.nickName),1)])]),t("div",ft,[t("div",vt,[t("ul",null,[t("li",{onClick:s[0]||(s[0]=d=>p(M)("/articles"))},[B("所有文章 "),bt]),(u(!0),_(k,null,U(l(),d=>(u(),_("li",{onClick:a=>p(J)(d.URL)},m(d.NAME),9,gt))),256)),t("li",null,[t("div",yt,"文章数:"+m(p(e).userinfo.articleCount)+" | 总字数:"+m(p(e).userinfo.articleWords),1)])])]),t("div",wt,[g(lt)])])]))}}),Ct=y($t,[["__scopeId","data-v-4a4b4661"]]),xt={class:"chart-line-log-root"},St=v({__name:"ChartLineWords",setup(c,{expose:e}){A([I,W,S,st,at,S,ot,z,T]);const l=w(null);let r,s={statDates:[],statValues:[]};const d=()=>{F().then(h=>{s=h.data,n(setTimeout(()=>{},300))})},a=h=>{let i=(h||0).toString(),o="";for(;i.length>3;)o=","+i.slice(-3)+o,i=i.slice(0,i.length-3);return i&&(o=i+o),o},n=h=>{r.setOption({title:{bottom:25,right:25,text:"历史笔记字数",textStyle:{fontSize:14,fontFamily:"Consolas, Monaco",color:"#5B5B5B"}},grid:{top:30,left:40,right:20,bottom:35},tooltip:{show:!0,trigger:"axis",confine:!0,enterable:!1,borderWidth:0,borderColor:"none",backgroundColor:"none",extraCssText:"box-shadow: none;",padding:0,appendToBody:!0,formatter:i=>`
          <div class="chart-line-word-tooltip">
            <div class="xaxis-title">${i[0].axisValue}</div>
            <div class="data">
              <div>
                <span class="iconbl bl-pen-line"></span>
                ${a(i[0].data)}
              </div>
            </div>
          </div>
          `},xAxis:{type:"category",offset:10,nameGap:30,data:s.statDates,axisLabel:{color:"#6D6D6D"},splitLine:{show:!1},axisTick:{inside:!0,length:0,lineStyle:{color:"#41434B"}},axisLine:{show:!0,lineStyle:{color:"#41434B",shadowColor:"#000000",shadowBlur:10}},axisPointer:{lineStyle:{color:"#6b6d76"}}},yAxis:{show:!1,scale:!0,type:"value",splitLine:{lineStyle:{color:"#343A42"}}},series:[{name:"Words",type:"line",sampling:"lttb",smooth:!0,showSymbol:!1,data:s.statValues,lineStyle:{width:3,cap:"round",color:"#CDCDCD",shadowColor:"#000000",shadowOffsetY:5,shadowBlur:10},itemStyle:{color:"#CDCDCD"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:.5,colorStops:[{offset:0,color:"#ABABABB3"},{offset:1,color:"#00000000"}]},shadowColor:"#666666",shadowOffsetY:5,shadowBlur:10}}]})},b=()=>{it(()=>{d()})},f=()=>{r.resize()};return $(()=>{r=H(l.value),f(),window.addEventListener("resize",f)}),nt(()=>{window.removeEventListener("resize",f)}),e({reload:b,windowResize:f}),(h,i)=>(u(),_("div",xt,[t("div",{style:{width:"100%",height:"100%"},ref_key:"ChartLineLogRef",ref:l},null,512)]))}}),Bt=y(St,[["__scopeId","data-v-9b2965bd"]]),L=c=>(O("data-v-2c7445af"),c=c(),R(),c),kt={class:"home-subject-root"},Lt={class:"words"},Nt=L(()=>t("span",{class:"iconbl bl-pen-line"},null,-1)),Dt={class:"upd-time"},Et=L(()=>t("span",{class:"iconbl bl-a-clock3-line"},null,-1)),At={class:"describes"},Ht=["onClick"],It=L(()=>t("span",{class:"iconbl bl-sendmail-fill"},null,-1)),Wt=[It],zt=v({__name:"HomeSubject",setup(c){$(()=>{e.value=[],j({starStatus:1}).then(s=>{e.value=s.data})});const e=w([]),l=s=>s.length>=18?"18px":"20px",r=s=>{q.push({path:"/articles",query:{articleId:s}})};return(s,d)=>(u(),_("div",kt,[(u(!0),_(k,null,U(e.value,a=>(u(),_("div",{class:"subject-item",key:a.name},[t("div",{class:"name",style:N({fontSize:l(a.name)})},m(a.name),5),t("div",Lt,[Nt,B(m(a.subjectWords),1)]),t("div",Dt,[Et,B(m(a.subjectUpdTime),1)]),t("div",{class:"cover-name",style:N({background:a.color})},m(a.name),5),t("div",At,m(a.describes),1),t("div",{class:"button",onClick:n=>r(a.tocId)},Wt,8,Ht)]))),128))]))}}),Tt=y(zt,[["__scopeId","data-v-2c7445af"]]),Ut={class:"blossom-home-root"},Ot={class:"home-main"},Rt={class:"home-main-userinfo"},Vt={class:"home-main-right"},Gt={class:"home-main-right-chart"},Mt={class:"home-main-right-subject"},Pt={class:"home-footer"},Ft={class:"custom-info"},jt=["innerHTML"],qt=v({__name:"Home",setup(c){const e=E(),l=w();$(()=>{l.value.reload()});const r=a=>{window.open(a)},s=()=>e.userParams.WEB_GONG_WANG_AN_BEI?e.userParams.WEB_GONG_WANG_AN_BEI:Y(),d=()=>e.userParams.WEB_IPC_BEI_AN_HAO?e.userParams.WEB_IPC_BEI_AN_HAO:Z();return(a,n)=>(u(),_("div",Ut,[t("div",Ot,[t("div",Rt,[g(Ct)]),t("div",Vt,[t("div",Gt,[g(Bt,{ref_key:"ChartLineWordsRef",ref:l},null,512)]),t("div",Mt,[g(Tt)])])]),t("div",Pt,[t("div",Ft,[p(x)(s())?(u(),_("div",{key:0,innerHTML:s()},null,8,jt)):D("",!0),p(x)(d())?(u(),_("div",{key:1,style:{cursor:"pointer"},onClick:n[0]||(n[0]=b=>r("https://beian.miit.gov.cn/"))},m(d()),1)):D("",!0)])])]))}}),me=y(qt,[["__scopeId","data-v-32f384a7"]]);export{me as default};
