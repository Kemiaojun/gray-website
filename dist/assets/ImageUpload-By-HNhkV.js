import{g as U,a as F,_ as I}from"./index-iWPkJKS9.js";import{d as w,I as B,r as o,G as R,b,o as i,c as g,a as f,S as c,u as s,Q as z}from"./@vue-D7aQumW7.js";const C=["src"],S=w({__name:"ImageUpload",props:{imageUrl:{},size:{}},emits:["selectFile"],setup(v,{emit:_}){const r=v,{size:a}=B(r),e=o(r.imageUrl),t=o(null),p=()=>e.value?e.value.startsWith("http")||e.value.startsWith("data")?e.value:U()+e.value:"",u=o(),h=_,x=d=>{const l=d.target;if(l.files&&l.files[0]){t.value=l.files[0];const n=new FileReader;n.onload=k=>{var m;e.value=(m=k.target)==null?void 0:m.result},n.readAsDataURL(t.value),h("selectFile",t.value)}},y=()=>{u.value.click()};return R(()=>{t.value=null}),b(()=>{}),(d,l)=>{const n=F;return i(),g("div",{class:"image-upload",style:c({height:s(a)?s(a)+"px":"200px"}),onClick:y},[f("input",{ref_key:"fileselectRef",ref:u,style:{display:"none"},type:"file",accept:"image/*",onChange:x},null,544),f("div",{class:"image-preview",style:c({border:e.value?"none":"1px solid var(--gw-bg-active)",width:s(a)?s(a)+"px":"200px"})},[p()?(i(),g("img",{key:0,class:"img",style:c({height:s(a)?s(a)+"px":"200px"}),src:p(),alt:"预览图片"},null,12,C)):(i(),z(n,{key:1,size:50,"icon-class":"add"}))],4)],4)}}}),D=I(S,[["__scopeId","data-v-da55ca45"]]);export{D as I};
